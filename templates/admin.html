{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>TopWorld</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="Free HTML Templates" name="keywords">
  <meta content="Free HTML Templates" name="description">

  <!-- Favicon -->
  <link href="{%static 'img/Topworld_favicon.png' %}" rel="icon">

  <!-- google icons -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous">
  </script>

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@400;700&display=swap"
    rel="stylesheet">

  <!-- Icon Font Stylesheet -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Libraries Stylesheet -->
  <link href="{%static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
  <link href="{%static 'lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />

  <!-- Customized Bootstrap Stylesheet -->
  <link href="{%static 'css/bootstrap.min.css' %}" rel="stylesheet">

  <!-- Template Stylesheet -->
  <link href="{%static 'css/style.css' %}" rel="stylesheet">
  <style>
    .flex-container {
      padding: 20px;
      display: flex;
      flex-direction: row;

    }

    .flex-container .content {
      width: 300px;
      height: 200px;

      margin: 20px;
      text-align: center;

    }

    .table-container1 {
      width: 100%;
      height: 500px;
      overflow: auto;
    }

    @media (max-width:700px) {
      .flex-container {
        flex-direction: column;

      }

      .flex-container .content {
        width: 100%;

      }

    }
  </style>

</head>

<body>
  <!-- Navbar Start -->
  <div class="container-fluid shadow-sm" id="navbar">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light py-3 py-lg-0">
        <a href="#" class="navbar-brand">
          <img src="{%static 'img/Topworld_logo.png' %}" alt="img" width="200px" height="auto">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav ms-auto py-0">
            <a href="{%url 'AdminHome'%}" class="nav-item nav-link active">DashBoard</a>
            <a href="{%url 'AdminJobApplicationList' %}" class="nav-item nav-link">Job Applications</a>
            <a href="{%url 'AdminJobList'%}" class="nav-item nav-link">Jobs List</a>
            <a href="{%url 'EmployersMessageView'%}" class="nav-item nav-link">Employer</a>
            <a href="{%url 'Signout' %}" class="nav-item nav-link">Logout</a>

          </div>
        </div>
      </nav>
    </div>
  </div>
  {% block admincontent %}
  <div class="container mt-5 ">
    <div class="flex-container ">
      <div class="content bg-primary">
        <h4 class="display-7 mt-5">Total Job Posted</h4>
        <h1>{{NoofJobs}}</h1>
      </div>
      <div class="content bg-primary">
        <h4 class="display-9 mt-5">Application Received</h4>
        <h1>{{nofappli}}</h1>
      </div>
      <div class="content bg-primary">
        <h4 class="display-9 mt-5">Droped Resumes</h4>
        <h1>{{noofdropresume}}</h1>
      </div>
      <div class="content bg-primary">
        <h4 class="display-9 mt-5">Employers Message</h4>
        <h1>{{noofemployers}}</h1>
      </div>
    </div>
  </div>

  <h1 class="display-8 text-center mt-5 border-bottom">Job List</h1>
  <div class="container mt-5">
    <div class="table-container1">
      <table class="table table-striped table-light">
        <thead>
          <tr>

            <th scope="col">Job Title</th>
            <th scope="col">Comapny Name</th>
            <th scope="col">Posted Date</th>
            <th scope="col">Salary Range</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {%for item in Alljobs%}
          <tr>
            <!-- <th scope="row" style="counter-reset: count;content: counter(count)"></th> -->
            <td>{{item.JobTitle}}</td>
            <td>{{item.CompanyName}}</td>
            <td>{{item.PostedDate}}</td>
            <td>{{item.Salary}}</td>
            <td><a href="{%url 'AdminJobView' item.JobID%}" class="btn btn-dark">VIEW</a></td>
          </tr>
          {%endfor%}

        </tbody>
      </table>
    </div>

    <h1 class="display-8 text-center mt-5 border-bottom">Application List</h1>
    <div class="container mt-5">
      <div class="table-container1">
        <table class="table table-striped table-light">
          <thead>
            <tr>

              <th scope="col">Job Title</th>
              <th scope="col">Comapny Name</th>
              <th scope="col">Applicant Name</th>
              <th scope="col">Application Date</th>
              <!-- <th>Resume</th> -->
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            {%for application in applications%}
            <tr>
              <!-- <th scope="row" style="counter-reset: count;content: counter(count)"></th> -->
              <td>{{application.JobTitle}}</td>
              <td>{{application.Jobid.CompanyName}}</td>
              <td>{{application.FirstName}} {{application.LastName}}</td>
              <td>{{application.AppliedDate}}{{application.ApplicationID}}</td>
              <!-- <td><a href="" class="btn btn-primary">Download</a></td> -->
              <td><a href="{%url 'ApplicantView' application.ApplicationID %}" class="btn btn-dark">VIEW</a></td>
            </tr>
            {%endfor%}

          </tbody>
        </table>
      </div>
    </div>

    <h1 class="display-8 text-center mt-5 border-bottom">Droped Application List</h1>
    <div class="container mt-5">
      <div class="table-container1">
        <table class="table table-striped table-light">
          <thead>
            <tr>

              <th scope="col">Job Title</th>
              <th scope="col">Applicant Name</th>
              <th scope="col">Application Date</th>
              <!-- <th>Resume</th> -->
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            {%for application in DropedResumes%}
            <tr>
              <!-- <th scope="row" style="counter-reset: count;content: counter(count)"></th> -->
              <td>{{application.JobTitle}}</td>
              <td>{{application.FirstName}} {{application.LastName}}</td>
              <td>{{application.AppliedDate}}</td>
              <!-- <td><a href="" class="btn btn-primary">Download</a></td> -->
              <td><a href="{%url 'RegApplicantView' application.ApplicationID %}" class="btn btn-dark">VIEW</a></td>
            </tr>
            {%endfor%}

          </tbody>
        </table>
      </div>
    </div>

    <h1 class="display-8 text-center mt-5 border-bottom">Employers Message</h1>
    <div class="container mt-5">
      <div class="table-container1">
        <table class="table table-striped table-light">
          <thead>
            <tr>

              <th scope="col">Organazation Name</th>
              <th scope="col">EmailID</th>
              <th scope="col">Phone</th>
              <!-- <th>Resume</th> -->
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            {%for msg in emessage%}
            <tr>
              <!-- <th scope="row" style="counter-reset: count;content: counter(count)"></th> -->
              <td>{{msg.OrganasationName}}</td>
              <td>{{msg.EmailID}} {{application.LastName}}</td>
              <td>{{msg.PhoneNumber}}{{application.ApplicationID}}</td>
              <!-- <td><a href="" class="btn btn-primary">Download</a></td> -->
              <td><a href="{%url 'EmployerMsgIndi' msg.EmpmassageID %}" class="btn btn-dark">VIEW</a></td>
            </tr>
            {%endfor%}

          </tbody>
        </table>
      </div>
    </div>
    {% endblock %}

    <div class="container-fluid bg-dark text-light mt-5 py-5">
      <div class="container py-5">
        <div class="row g-5">
          <div class="container-fluid bg-dark text-light border-top border-secondary py-4">
            <div class="container">
              <div class="row g-5">
                <div class="col-md-6 text-center text-md-start">
                  <p class="mb-md-0">&copy; <a class="text-primary" href="{%url 'Signin' %}">TopWorld</a>. All Rights
                    Reserved.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                  <p class="mb-0">Designed by <a class="text-primary" href="#">Creative Team</a></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

</body>

</html>